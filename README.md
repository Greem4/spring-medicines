# Spring Medicines

Приложение для управления лекарственными препаратами с использованием **Spring Boot**, **Spring Data JPA**, **Spring Security** и **PostgreSQL**.  
Позволяет просматривать список препаратов без авторизации, а также добавлять, обновлять и удалять препараты при наличии роли `ADMIN`.  
Приложение использует Spring Boot по REST API

## Стек технологий

- **Backend**: Java 23+, Spring Boot 3.4.0, Spring Data JPA, Spring Security
- **Database**: PostgreSQL
- **Migrations**: Liquibase
- **Build Tool**: Gradle
- **Testing**: JUnit, Testcontainers

## Функциональность

- **Без авторизации**:
    - Просмотр списка и деталей препаратов (`GET` запросы).
- **Авторизация**:
    - Аутентификация: HTTP Basic (для упрощения тестирования можно использовать `NoOpPasswordEncoder`).
    - Ролевой доступ: пользователю с ролью `ADMIN` доступны операции добавления (`POST`), обновления (`PUT`) и удаления (`DELETE`) препаратов.

### Новое: Email-уведомления

- **Оповещение об окончании срока годности**: при приближении даты конца срока годности препарата отправляется уведомление на электронную почту.
- **Технологии**:
    - `JavaMailSender` для отправки писем.
    - SMTP-сервер, настройки которого задаются в `application.yaml` или через переменные окружения (env).
- **Гибкая конфигурация**:
    - Адрес «отправителя» и другие параметры (SMTP-хост, порт, логин, пароль) можно вынести в конфигурацию, чтобы не хранить их в коде.
    - Используется, например, `@Value("${app.mail.sender}")` для чтения нужного значения из настроек.
